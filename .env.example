# ==============================================================================
# CONFIGURACIÓN ENTORNO DOCKER - SISTEMA IIoT
# ==============================================================================
# Copiar este archivo como .env antes de ejecutar docker-compose
# Comando: cp .env.example .env
#
# NOTA: Estas credenciales son para uso EDUCATIVO únicamente.
#       En producción, usar contraseñas seguras y gestión de secretos apropiada.
# ==============================================================================

# ------------------------------------------------------------------------------
# MYSQL - Base de Datos Relacional
# ------------------------------------------------------------------------------
# Contraseña del usuario root (administrador)
MYSQL_ROOT_PASSWORD=rootpass123

# Nombre de la base de datos que se creará automáticamente
MYSQL_DATABASE=iiot_db

# Usuario estudiante con permisos en la base de datos
MYSQL_USER=student

# Contraseña del usuario estudiante
MYSQL_PASSWORD=student123

# ------------------------------------------------------------------------------
# INFLUXDB - Base de Datos Time-Series
# ------------------------------------------------------------------------------
# Usuario administrador de InfluxDB
INFLUXDB_ADMIN_USER=admin

# Contraseña del administrador
INFLUXDB_ADMIN_PASSWORD=admin123

# Organización (equivalente a un "tenant" o espacio de trabajo)
INFLUXDB_ORG=iiot-class

# Bucket principal (equivalente a "base de datos" en SQL)
INFLUXDB_BUCKET=iiot_sensors

# Token de autenticación API (generado automáticamente si se omite)
# IMPORTANTE: Este token se usa para conectar desde Node-RED
INFLUXDB_TOKEN=my-super-secret-auth-token

# ------------------------------------------------------------------------------
# GRAFANA - Visualización
# ------------------------------------------------------------------------------
# Usuario administrador de Grafana
GRAFANA_ADMIN_USER=admin

# Contraseña del administrador
# NOTA: Grafana pedirá cambiar esta contraseña en el primer login
GRAFANA_ADMIN_PASSWORD=admin

# ------------------------------------------------------------------------------
# MOSQUITTO - Broker MQTT
# ------------------------------------------------------------------------------
# Puerto principal MQTT
MOSQUITTO_PORT=1883

# Puerto WebSockets MQTT (para clientes browser)
MOSQUITTO_WS_PORT=9001

# NOTA: Mosquitto está configurado con allow_anonymous=true para simplicidad
#       educativa. En producción, habilitar autenticación y TLS.

# ------------------------------------------------------------------------------
# NODE-RED - Orquestador
# ------------------------------------------------------------------------------
# Zona horaria para timestamps
TZ=America/Guayaquil

# ------------------------------------------------------------------------------
# NOTAS PARA ESTUDIANTES
# ------------------------------------------------------------------------------
# 1. Para cambiar puertos (si hay conflictos):
#    Editar docker-compose.yml en la sección "ports"
#    Ejemplo: cambiar "1883:1883" a "1884:1883"
#
# 2. Para resetear todo el sistema:
#    docker-compose down -v && docker-compose up -d
#    ADVERTENCIA: Esto eliminará todos los datos almacenados
#
# 3. Para ver logs de un servicio:
#    docker-compose logs -f [nombre_servicio]
#    Ejemplo: docker-compose logs -f nodered
#
# 4. Para acceder a los servicios:
#    - Node-RED:  http://localhost:1880
#    - InfluxDB:  http://localhost:8086
#    - MySQL:     localhost:3306 (via cliente)
#    - Grafana:   http://localhost:3000
#    - Adminer:   http://localhost:8080
#    - MQTT:      mqtt://localhost:1883
