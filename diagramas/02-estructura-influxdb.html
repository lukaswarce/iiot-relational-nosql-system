<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estructura InfluxDB</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #9b59b6;
            padding-bottom: 10px;
        }
        .mermaid {
            text-align: center;
            margin: 30px 0;
        }
        .info {
            background: #f4ecf7;
            padding: 15px;
            border-left: 4px solid #9b59b6;
            margin: 20px 0;
        }
        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üïê Estructura InfluxDB - Series Temporales</h1>
        <div class="info">
            <strong>Sistema IIoT - Base de Datos Time-Series</strong><br>
            Organizaci√≥n: <code>iiot-class</code> | Bucket: <code>iiot_sensors</code>
        </div>
        
        <div class="mermaid">
graph TB
    subgraph "InfluxDB: iiot_sensors"
        M1[Measurement: temperature]
        M2[Measurement: pressure]
        M3[Measurement: vibration]
        
        M1 --> T1[Tags - Indexed]
        M1 --> F1[Fields - Values]
        M1 --> TS1[Timestamp - Nanoseconds]
        
        T1 --> T1A[sensor_id: TEMP_001]
        T1 --> T1B[location: Linea_Produccion_1]
        T1 --> T1C[sensor_type: temperature]
        
        F1 --> F1A[temperature: 75.5 float]
        
        M2 --> T2[Tags - Indexed]
        M2 --> F2[Fields - Values]
        M2 --> TS2[Timestamp - Nanoseconds]
        
        T2 --> T2A[sensor_id: PRESS_001]
        T2 --> T2B[location: Sistema_Hidraulico]
        T2 --> T2C[sensor_type: pressure]
        
        F2 --> F2A[pressure: 185.2 float]
        
        M3 --> T3[Tags - Indexed]
        M3 --> F3[Fields - Values]
        M3 --> TS3[Timestamp - Nanoseconds]
        
        T3 --> T3A[sensor_id: VIB_001]
        T3 --> T3B[location: Motor_Principal]
        T3 --> T3C[sensor_type: vibration]
        
        F3 --> F3A[vibration: 2.5 float]
    end
    
    style M1 fill:#ff6b6b
    style M2 fill:#4ecdc4
    style M3 fill:#ffe66d
        </div>
        
        <div class="info">
            <strong>üèóÔ∏è Estructura de Datos:</strong>
            <ul>
                <li><strong>Measurement</strong> - Como una "tabla" (temperature, pressure, vibration)</li>
                <li><strong>Tags</strong> - Metadatos indexados (sensor_id, location, type)</li>
                <li><strong>Fields</strong> - Valores medidos (temperature, pressure, vibration)</li>
                <li><strong>Timestamp</strong> - Marca temporal en nanosegundos (√≠ndice autom√°tico)</li>
            </ul>
        </div>
        
        <div class="code-example">
<strong># Ejemplo de punto de datos en InfluxDB:</strong>

temperature,sensor_id=TEMP_001,location=Linea_Produccion_1 temperature=75.5 1706934000000000000
‚îÇ           ‚îÇ                                                ‚îÇ              ‚îÇ
Measurement ‚îÇ                                                ‚îÇ              Timestamp (ns)
            Tags (indexed, filtros r√°pidos)                 Fields (valores medidos)
        </div>
        
        <div class="info">
            <strong>‚ö° Ventajas Time-Series:</strong>
            <ul>
                <li>Escrituras extremadamente r√°pidas (1M+ puntos/segundo)</li>
                <li>Consultas temporales optimizadas (mucho m√°s r√°pido que MySQL)</li>
                <li>Compresi√≥n autom√°tica de datos hist√≥ricos</li>
                <li>Pol√≠ticas de retenci√≥n para limpiar datos antiguos</li>
                <li>Agregaciones temporales nativas (downsampling)</li>
            </ul>
        </div>
    </div>
    
    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default'
        });
    </script>
</body>
</html>
